<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>DigitalOcean - Create droplets instances with Terraform - Technology Blog Wim</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	
	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-83351442-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Technology Blog Wim" rel="home">
				<img src="/img/logo_blog.png" alt="Logo" />
				
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/categories/all/">
				
				<span class="menu__text">All Posts</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/networkprogrammability">
				
				<span class="menu__text">Network Programmability</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/devops">
				
				<span class="menu__text">DevOps</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/webdevelopment">
				
				<span class="menu__text">(Web)Development</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/public-cloud">
				
				<span class="menu__text">Cloud</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/cloud-native/">
				
				<span class="menu__text">Cloud-Native</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about">
				
				<span class="menu__text">About Me</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DigitalOcean - Create droplets instances with Terraform</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-09-02T14:39:50&#43;01:00">September 02, 2019</time>
</div>
</div>
		</header><div class="content post__content clearfix">
			<h3 id="introduction">Introduction</h3>
<p>In this post, we are going to create a server (aka droplets) on DigitalOcean. They will be running Ubuntu. There’s plenty of ways doing it but for this post I decided to give Terraform a try.</p>
<h3 id="pre-requisites">Pre-requisites</h3>
<p>I’m assuming you have already a DigitalOcean account and have access to its webinterface. In order to create droplets via Terraform, you will need to get API access. On DigitalOcean’s webinterface, go to API and click “Generate Token”.</p>
<p><img src="/images/2019-09-02-1.png" alt="DigitalOceanToken"></p>
<p>After generating the token, you will see an entry like the one below (we called our token &lsquo;Terraform&rsquo;)</p>
<p><img src="/images/2019-09-02-2.png" alt="DigitalOceanToken"></p>
<p>Next, you will also need the fingerprint of the SSH key you want to use to access the provisioned server. Therefore go to your Account page and then to Security. There is a section called “SSH keys”. You’ll want to copy/paste somewhere the fingerprint of the key you wish to use. We will need it in the variable file for Terraform a bit later in this tutorial.</p>
<h3 id="creating-the-terraform-scripts">Creating the Terraform scripts</h3>
<p>The below script will create a droplet called server 1 on DigitalOcean and will apply also a tag ‘webserver’ to the droplet.</p>
<p>Create a file and copy/past the below information. Note that the name of the file does not really matter as long as the extension is &lsquo;tf&rsquo;.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform"><span style="color:#00979d">provider</span> <span style="color:#7f8c8d">&#34;digitalocean&#34;</span>{
  <span style="color:#434f54">token</span> = <span style="color:#728e00">var</span>.<span style="color:#728e00">do_token</span>
}
<span style="color:#00979d">
</span><span style="color:#00979d">resource</span> <span style="color:#7f8c8d">&#34;digitalocean_droplet&#34;</span> <span style="color:#7f8c8d">&#34;myserver&#34;</span> {
   <span style="color:#434f54">count</span> = <span style="color:#728e00">var</span>.<span style="color:#728e00">number_servers</span>
   <span style="color:#434f54">name</span> = <span style="color:#7f8c8d">&#34;server-</span><span style="color:#7f8c8d">${</span><span style="color:#728e00">count</span>.<span style="color:#728e00">index</span><span style="color:#7f8c8d">}</span><span style="color:#7f8c8d">&#34;</span>
   <span style="color:#434f54">image</span> = <span style="color:#7f8c8d">&#34;ubuntu-18-04-x64&#34;</span>
   <span style="color:#434f54">size</span> = <span style="color:#7f8c8d">&#34;1gb&#34;</span>
   <span style="color:#434f54">region</span> = <span style="color:#728e00">var</span>.<span style="color:#728e00">region</span>
   <span style="color:#434f54">ssh_keys</span> = [
        <span style="color:#728e00">var</span>.<span style="color:#728e00">ssh_fingerprint</span>
   ]
   <span style="color:#434f54">tags</span>   = [<span style="color:#7f8c8d">&#34;</span><span style="color:#7f8c8d">${</span><span style="color:#728e00">digitalocean_tag</span>.<span style="color:#728e00">webserver</span>.<span style="color:#728e00">id</span><span style="color:#7f8c8d">}</span><span style="color:#7f8c8d">&#34;</span>]  
}
<span style="color:#00979d">
</span><span style="color:#00979d">resource</span> <span style="color:#7f8c8d">&#34;digitalocean_tag&#34;</span> <span style="color:#7f8c8d">&#34;webserver&#34;</span> {
    <span style="color:#434f54">name</span> = <span style="color:#7f8c8d">&#34;webserver&#34;</span>
}
</code></pre></div><p>And the corresponding variables file.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform"><span style="color:#00979d">variable</span> <span style="color:#7f8c8d">&#34;do_token&#34;</span> {
  <span style="color:#434f54">default</span> = <span style="color:#7f8c8d">&#34;82c33***2f56d&#34;</span>
}
<span style="color:#00979d">
</span><span style="color:#00979d">variable</span> <span style="color:#7f8c8d">&#34;region&#34;</span> {
  <span style="color:#434f54">default</span> = <span style="color:#7f8c8d">&#34;AMS3&#34;</span>
}
<span style="color:#00979d">
</span><span style="color:#00979d">variable</span> <span style="color:#7f8c8d">&#34;ssh_fingerprint&#34;</span> {
  <span style="color:#434f54">default</span> =  <span style="color:#7f8c8d">&#34;5a:25:***:c9:8d:03&#34;</span>
}
<span style="color:#00979d">
</span><span style="color:#00979d">variable</span> <span style="color:#7f8c8d">&#34;number_servers&#34;</span> {
  <span style="color:#434f54">default</span> = <span style="color:#7f8c8d">&#34;2&#34;</span>
}
</code></pre></div><p>Then execute the command ‘terraform init’. This will essentially download the DigitalOcean plugin and initialise it.</p>
<pre><code>WAUTERW-M-65P7:DigitalOcean_Terraform wauterw$ terraform init

Initializing the backend...

* provider.digitalocean: version = &quot;~&gt; 0.8&quot;

Terraform has been successfully initialized!
***Truncated***
</code></pre><p>Next, perform a <code>terraform plan</code> as follows.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform"><span style="color:#728e00">WAUTERW</span><span style="color:#728e00">-</span><span style="color:#728e00">M</span><span style="color:#8a7b52">-65</span><span style="color:#728e00">P7</span><span style="color:#728e00">:</span><span style="color:#728e00">DigitalOcean_Terraform</span> <span style="color:#728e00">wauterw</span><span style="color:#a61717">$</span> <span style="color:#728e00">terraform</span> <span style="color:#728e00">plan</span>
<span style="color:#728e00">Refreshing</span> <span style="color:#728e00">Terraform</span> <span style="color:#728e00">state</span> <span style="color:#728e00">in</span><span style="color:#728e00">-</span><span style="color:#728e00">memory</span> <span style="color:#728e00">prior</span> <span style="color:#728e00">to</span> <span style="color:#728e00">plan</span>...

<span style="color:#728e00">***</span><span style="color:#728e00">Truncated</span><span style="color:#728e00">***</span>

<span style="color:#728e00">Plan</span><span style="color:#728e00">:</span> <span style="color:#8a7b52">3</span> <span style="color:#728e00">to</span> <span style="color:#728e00">add</span>, <span style="color:#8a7b52">0</span> <span style="color:#728e00">to</span> <span style="color:#728e00">change</span>, <span style="color:#8a7b52">0</span> <span style="color:#728e00">to</span> <span style="color:#728e00">destroy</span>.
</code></pre></div><p>So we can see that the plan is to add three resources, essentially these are the two droplets themselves and then also the tag.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform"><span style="color:#728e00">WAUTERW</span><span style="color:#728e00">-</span><span style="color:#728e00">M</span><span style="color:#8a7b52">-65</span><span style="color:#728e00">P7</span><span style="color:#728e00">:</span><span style="color:#728e00">DigitalOcean_Terraform</span> <span style="color:#728e00">wauterw</span><span style="color:#a61717">$</span> <span style="color:#728e00">terraform</span> <span style="color:#728e00">apply</span>

<span style="color:#728e00">***</span><span style="color:#728e00">Truncated</span><span style="color:#728e00">***</span>

<span style="color:#728e00">digitalocean_tag</span>.<span style="color:#728e00">webserver</span><span style="color:#728e00">:</span> <span style="color:#728e00">Creating</span>...
<span style="color:#728e00">digitalocean_tag</span>.<span style="color:#728e00">webserver</span><span style="color:#728e00">:</span> <span style="color:#728e00">Creation</span> <span style="color:#728e00">complete</span> <span style="color:#728e00">after</span> <span style="color:#8a7b52">2</span><span style="color:#728e00">s</span> [<span style="color:#434f54">id</span>=<span style="color:#728e00">webserver</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">0</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Creating</span>...
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">1</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Creating</span>...
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">1</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">10</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">0</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">10</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">0</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">20</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">1</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">20</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">1</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">30</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">0</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Still</span> <span style="color:#728e00">creating</span>... [<span style="color:#8a7b52">30</span><span style="color:#728e00">s</span> <span style="color:#728e00">elapsed</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">1</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Creation</span> <span style="color:#728e00">complete</span> <span style="color:#728e00">after</span> <span style="color:#8a7b52">34</span><span style="color:#728e00">s</span> [<span style="color:#434f54">id</span>=<span style="color:#8a7b52">186893061</span>]
<span style="color:#728e00">digitalocean_droplet</span>.<span style="color:#728e00">myserver</span>[<span style="color:#8a7b52">0</span>]<span style="color:#728e00">:</span> <span style="color:#728e00">Creation</span> <span style="color:#728e00">complete</span> <span style="color:#728e00">after</span> <span style="color:#8a7b52">34</span><span style="color:#728e00">s</span> [<span style="color:#434f54">id</span>=<span style="color:#8a7b52">186893059</span>]

<span style="color:#728e00">Apply</span> <span style="color:#728e00">complete</span><span style="color:#728e00">!</span> <span style="color:#728e00">Resources</span><span style="color:#728e00">:</span> <span style="color:#8a7b52">3</span> <span style="color:#728e00">added</span>, <span style="color:#8a7b52">0</span> <span style="color:#728e00">changed</span>, <span style="color:#8a7b52">0</span> <span style="color:#728e00">destroyed</span>.
</code></pre></div><p>As indicated in the output, the servers were created successfully and also the tag was applied properly (hence 3 resources: 2 servers and 1 tag resource)</p>
<p><img src="/images/2019-09-02-3.png" alt="DigitalOceanToken"></p>
<h3 id="tfstate-file">*.tfstate file</h3>
<p>The tfstate file contains the state of the infrastructure on the DigitalOcean platform. Terraform keeps this statefile to make it easy to modify or delete resources at a later moment.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-terraform" data-lang="terraform">{
  <span style="color:#7f8c8d">&#34;version&#34;</span><span style="color:#728e00">:</span> <span style="color:#8a7b52">4</span>,
  <span style="color:#7f8c8d">&#34;terraform_version&#34;</span><span style="color:#728e00">:</span> <span style="color:#7f8c8d">&#34;0.12.24&#34;</span>,
  <span style="color:#7f8c8d">&#34;serial&#34;</span><span style="color:#728e00">:</span> <span style="color:#8a7b52">4</span>,
  <span style="color:#7f8c8d">&#34;lineage&#34;</span><span style="color:#728e00">:</span> <span style="color:#7f8c8d">&#34;89eab7df-d695-6da3-f8b5-a660bfd2311d&#34;</span>,
  <span style="color:#7f8c8d">&#34;outputs&#34;</span><span style="color:#728e00">:</span> {},
  <span style="color:#7f8c8d">&#34;resources&#34;</span><span style="color:#728e00">:</span> [
    {
      <span style="color:#7f8c8d">&#34;mode&#34;</span><span style="color:#728e00">:</span> <span style="color:#7f8c8d">&#34;managed&#34;</span>,
      <span style="color:#7f8c8d">&#34;type&#34;</span><span style="color:#728e00">:</span> <span style="color:#7f8c8d">&#34;digitalocean_droplet&#34;</span>,
      <span style="color:#7f8c8d">&#34;name&#34;</span><span style="color:#728e00">:</span> <span style="color:#7f8c8d">&#34;myserver&#34;</span>,
      <span style="color:#7f8c8d">&#34;each&#34;</span><span style="color:#728e00">:</span> <span style="color:#728e00">&#34;list</span><span style="color:#7f8c8d">&#34;,
</span><span style="color:#7f8c8d">      &#34;</span><span style="color:#728e00">provider</span><span style="color:#7f8c8d">&#34;: &#34;</span><span style="color:#728e00">provider</span>.<span style="color:#728e00">digitalocean</span><span style="color:#7f8c8d">&#34;,
</span><span style="color:#7f8c8d">      &#34;</span><span style="color:#728e00">instances</span><span style="color:#7f8c8d">&#34;: [
</span><span style="color:#7f8c8d">        {
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">index_key</span><span style="color:#7f8c8d">&#34;: 0,
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">schema_version</span><span style="color:#7f8c8d">&#34;: 1,
</span><span style="color:#7f8c8d">         ***Truncated***
</span><span style="color:#7f8c8d">         
</span><span style="color:#7f8c8d">        {
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">index_key</span><span style="color:#7f8c8d">&#34;: 1,
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">schema_version</span><span style="color:#7f8c8d">&#34;: 1,
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">attributes</span><span style="color:#7f8c8d">&#34;: {
</span><span style="color:#7f8c8d">            &#34;</span><span style="color:#728e00">backups</span><span style="color:#7f8c8d">&#34;: false,
</span><span style="color:#7f8c8d">            &#34;</span><span style="color:#728e00">created_at</span><span style="color:#7f8c8d">&#34;: &#34;</span><span style="color:#8a7b52">2020-03-31</span><span style="color:#728e00">T19</span><span style="color:#728e00">:</span><span style="color:#8a7b52">18</span><span style="color:#728e00">:</span><span style="color:#8a7b52">38</span><span style="color:#728e00">Z</span><span style="color:#7f8c8d">&#34;,
</span><span style="color:#7f8c8d">        
</span><span style="color:#7f8c8d">         ***Truncated*** 
</span><span style="color:#7f8c8d">
</span><span style="color:#7f8c8d">            &#34;</span><span style="color:#728e00">volume_ids</span><span style="color:#7f8c8d">&#34;: []
</span><span style="color:#7f8c8d">          },
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">private</span><span style="color:#7f8c8d">&#34;: &#34;</span><span style="color:#434f54">eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ</span>=<span style="color:#728e00">=</span><span style="color:#7f8c8d">&#34;,
</span><span style="color:#7f8c8d">          &#34;</span><span style="color:#728e00">dependencies</span><span style="color:#7f8c8d">&#34;: [
</span><span style="color:#7f8c8d">            &#34;</span><span style="color:#728e00">digitalocean_tag</span>.<span style="color:#728e00">webserver</span><span style="color:#7f8c8d">&#34;
</span><span style="color:#7f8c8d">          ]
</span><span style="color:#7f8c8d">        }
</span><span style="color:#7f8c8d">      ]
</span><span style="color:#7f8c8d">    },
</span><span style="color:#7f8c8d">    
</span><span style="color:#7f8c8d">    ***Truncated***
</span><span style="color:#7f8c8d">}
</span></code></pre></div><h3 id="ssh-into-the-server">SSH into the server</h3>
<p>Let’s now try to ssh into the server by using our keypair. Go to the local folder on your PC/MAC and locate the public key that corresponds to the SSH key you uploaded to the DO webinterface.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">WAUTERW-M-65P7:Keys wauterw$ ssh -i keypair_digitalocean_146185179184 root@188.166.40.81
The authenticity of host <span style="color:#7f8c8d">&#39;188.166.40.81 (188.166.40.81)&#39;</span> can<span style="color:#7f8c8d">&#39;t be established.
</span><span style="color:#7f8c8d">ECDSA key fingerprint is SHA256:XcR+DRg9Dz5eYeLDdh6c0K7Mx2K6lmnVKELrYwT1wQk.
</span><span style="color:#7f8c8d">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span><span style="color:#7f8c8d">Warning: Permanently added &#39;</span>188.166.40.81<span style="color:#a61717">&#39;</span> <span style="color:#728e00">(</span>ECDSA<span style="color:#728e00">)</span> to the list of known hosts.
Welcome to Ubuntu 18.04.3 LTS <span style="color:#728e00">(</span>GNU/Linux 4.15.0-66-generic x86_64<span style="color:#728e00">)</span>

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Tue Mar <span style="color:#8a7b52">31</span> 19:23:31 UTC <span style="color:#8a7b52">2020</span>

  System load:  0.0               Processes:           <span style="color:#8a7b52">84</span>
  Usage of /:   3.3% of 28.90GB   Users logged in:     <span style="color:#8a7b52">0</span>
  Memory usage: 11%               IP address <span style="color:#728e00">for</span> eth0: 188.166.40.81
  Swap usage:   0%

<span style="color:#8a7b52">0</span> packages can be updated.
<span style="color:#8a7b52">0</span> updates are security updates.

The programs included with the Ubuntu system are free software;
the exact distribution terms <span style="color:#728e00">for</span> each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

root@server-0:~# 
</code></pre></div><h3 id="deleting-the-server">Deleting the server</h3>
<p>Deleting the server is very easy with Terraform. Just use the <code>terraform destroy</code> command will do the trick.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">WAUTERW-M-65P7:DigitalOcean_Terraform wauterw$ terraform destroy
digitalocean_tag.webserver: Refreshing state... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>webserver<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>1<span style="color:#728e00">]</span>: Refreshing state... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893061<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>0<span style="color:#728e00">]</span>: Refreshing state... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893059<span style="color:#728e00">]</span>

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  - destroy

***Truncated***

Plan: <span style="color:#8a7b52">0</span> to add, <span style="color:#8a7b52">0</span> to change, <span style="color:#8a7b52">3</span> to destroy.

digitalocean_droplet.myserver<span style="color:#728e00">[</span>1<span style="color:#728e00">]</span>: Destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893061<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>0<span style="color:#728e00">]</span>: Destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893059<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>0<span style="color:#728e00">]</span>: Still destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893059, 10s elapsed<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>1<span style="color:#728e00">]</span>: Still destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893061, 10s elapsed<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>0<span style="color:#728e00">]</span>: Still destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893059, 20s elapsed<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>1<span style="color:#728e00">]</span>: Still destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>186893061, 20s elapsed<span style="color:#728e00">]</span>
digitalocean_droplet.myserver<span style="color:#728e00">[</span>0<span style="color:#728e00">]</span>: Destruction <span style="color:#728e00">complete</span> after 23s
digitalocean_droplet.myserver<span style="color:#728e00">[</span>1<span style="color:#728e00">]</span>: Destruction <span style="color:#728e00">complete</span> after 24s
digitalocean_tag.webserver: Destroying... <span style="color:#728e00">[</span><span style="color:#434f54">id</span><span style="color:#728e00">=</span>webserver<span style="color:#728e00">]</span>
digitalocean_tag.webserver: Destruction <span style="color:#728e00">complete</span> after 0s

Destroy complete! Resources: <span style="color:#8a7b52">3</span> destroyed.
</code></pre></div><p>As you can imagine the droplets have been destroyed successfully.</p>
<p>You can check the files in this <a href="https://github.com/wiwa1978/blog-hugo-netlify-code/tree/master/DigitalOcean_Terraform">repo</a>.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/terraform/" rel="tag">Terraform</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/digitalocean/" rel="tag">DigitalOcean</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/devops/2016-04-14-docker-machine_digitalocean/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Docker-Machine and DigitalOcean</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/devops/2019-10-17_digitalocean_kubernetes_ansible/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">DigitalOcean - Install Kubernetes using Ansible</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-wimwauters" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-29_ansible_iosxe_iosmodules/">Ansible and IOSXE - IOS modules</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-27_dnac_pythonrequests_part3/">Cisco DNA Center - Sites</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-25_dnac_pythonrequests_part2/">Cisco DNA Center - Assurance</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-24_dnac_pythonrequests_part1/">Cisco DNA Center - Devices</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-22_dnac_gettingstarted/">Cisco DNA Center - Getting Started</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-17_netpalm_introduction_part3/">NetPalm Introduction - Part 3</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-15_netpalm_introduction_part2/">NetPalm Introduction - Part 2</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-14_netpalm_introduction_part1/">NetPalm Introduction - Part 1</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-09_scrapli_introduction/">Scrapli Introduction</a></li>
			<li class="widget__item"><a class="widget__link" href="/networkprogrammability/2020-04-07_napalm_introduction_part2/">NAPALM Introduction - Part 2</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/all/">All</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/backend/">Backend</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/cloud-native/">Cloud Native</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/continuous-integration/deployment/">Continuous Integration/Deployment</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/development/">Development</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/devops/">DevOps</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/infrastructure-as-code/">Infrastructure As Code</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/network-programming/">Network Programming</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/private-cloud/">Private Cloud</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/programming/">Programming</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/public-cloud/">Public Cloud</a>
			</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/web-development/">Web Development</a>
			</li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/aci/" title="ACI">ACI (6)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ansible/" title="Ansible">Ansible (4)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/aws/" title="AWS">AWS (5)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/digitalocean/" title="DigitalOcean">DigitalOcean (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dnac/" title="DNAC">DNAC (4)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/docker/" title="docker">docker (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/docker-machine/" title="docker-machine">docker-machine (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/express/" title="Express">Express (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/gitlab/" title="Gitlab">Gitlab (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ios-xe/" title="IOS XE">IOS XE (8)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ios-xr/" title="IOS XR">IOS XR (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/iosxe/" title="IOSXE">IOSXE (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/jinja2/" title="Jinja2">Jinja2 (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/json/" title="JSON">JSON (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/kubernetes/" title="Kubernetes">Kubernetes (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/mean/" title="MEAN">MEAN (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/mongo/" title="Mongo">Mongo (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/napalm/" title="Napalm">Napalm (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/netconf/" title="NETCONF">NETCONF (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/netmiko/" title="Netmiko">Netmiko (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/netpalm/" title="NetPalm">NetPalm (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/paramiko/" title="Paramiko">Paramiko (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/python/" title="Python">Python (19)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/restconf/" title="RESTCONF">RESTCONF (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/scrapli/" title="Scrapli">Scrapli (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/terraform/" title="Terraform">Terraform (11)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/virtualbox/" title="Virtualbox">Virtualbox (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/vsphere/" title="vSphere">vSphere (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/xml/" title="XML">XML (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/yaml/" title="YAML">YAML (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/yang/" title="YANG">YANG (5)</a>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Twitter" rel="noopener noreferrer" href="https://twitter.com/@Wauters_Wim" target="_blank">
				<svg class="widget-social__link-icon icon icon-twitter" width="24" height="24" viewBox="0 0 384 312"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
				<span>Twitter</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="LinkedIn" rel="noopener noreferrer" href="https://linkedin.com/in/https://www.linkedin.com/in/wim-wauters-92ab401" target="_blank">
				<svg class="widget-social__link-icon icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg>
				<span>LinkedIn</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/https://github.com/wiwa1978" target="_blank">
				<svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Email" href="mailto:blogwimwauters%20at%20gmail.com">
				<svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
				<span>blogwimwauters at gmail.com</span>
			</a>
		</div>

		
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Wim Wauters.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>